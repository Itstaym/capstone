<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Library Management System - Books</title>
  <link rel="stylesheet" href="books.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>

<body>
  <header>
    <div class="title-logo">
      <img src="https://www.paterostechnologicalcollege.edu.ph/ASSETS/IMAGES/LOGO/logo-ptc.png" alt="PTC Logo"
        class="logo">
      <h1>PTC Booklink: Library Management System</h1>
    </div>
    <nav>
      <a href="main.html">Dashboard</a>
      <a href="books.html">Books</a>
      <a href="members.html">Users</a>
      <a href="issue and return.html">Borrow and Returns</a>
      <a href="borrow_return history.html">Borrow/Return History</a>
    </nav>
    <div>
      <button id="logoutBtn" onclick="logout()">
        <i class="fas fa-sign-out-alt"></i>
      </button>
    </div>
  </header>

  <div class="container">
    <h2>Books Page</h2>


    <div class="button-container">
      <button id="openModalBtn" onclick="openModal()">Add New Book</button>
      <label for="bulkImportInput" class="bulk-import-label">
        <i class="fas fa-file-import"></i> Bulk Import (.xlsx, .csv)
      </label>
      <input type="file" id="bulkImportInput" accept=".csv, .xlsx" style="display: none;"
        onchange="handleBulkImport(event)">
    </div>


    <div id="addBookModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h3>Add Book</h3>
        <form id="addBookForm" onsubmit="return addBook(event);">
          <input type="text" id="modalBookTitle" placeholder="Book Title" required>
          <input type="text" id="modalBookAuthor" placeholder="Author" required>
          <input type="text" id="modalBookEdition" placeholder="Edition">
          <input type="text" id="modalBookPublisher" placeholder="Publisher">
          <input type="text" id="modalBookYear" placeholder="Year" min="1000" max="2500" required>
          <button type="submit">Save</button>
        </form>
      </div>
    </div>

    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input type="text" id="searchInput" placeholder="Search by Accession Number, Title, Author, Publisher, or Year"
        onkeyup="searchBooks()">
    </div>

    <h3>Books List</h3>
    <table id="booksTable">
      <tr>
        <th>Accession Number</th>
        <th>Title</th>
        <th>Author</th>
        <th>Edition</th>
        <th>Publisher</th>
        <th>Year</th>
        <th>QR Code</th>
        <th>Action</th> <!-- Add Action column -->
      </tr>
    </table>
  </div>
  <footer>
    <p id="currentTime"></p>
  </footer>
  <script src="books.js"></script>
</body>
</html>